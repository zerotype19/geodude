# Forward API requests to the API worker domain (MUST be first)
/api/* https://api.optiview.ai/api/:splat 302

# SPA routing - specific routes to avoid root conflicts
/login /index.html 200
/onboarding /index.html 200
/events /index.html 200
/content /index.html 200
/referrals /index.html 200
/conversions /index.html 200
/funnels /index.html 200
/journeys /index.html 200
/citations /index.html 200
/recommendations /index.html 200
/sources /index.html 200
/install /index.html 200
/settings /index.html 200
/api-keys /index.html 200
/data-policy /index.html 200
/terms /index.html 200
/privacy /index.html 200
/magic-link /index.html 200

# Handle query parameters for SPA routes
/install\?* /index.html 200
/magic-link\?* /index.html 200

# Docs and root - at end to avoid conflicts
/docs/* /index.html 200
/ /index.html 200
